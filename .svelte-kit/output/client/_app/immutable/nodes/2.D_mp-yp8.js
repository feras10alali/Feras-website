import{s as Q,c as tt,d as R,e as et,u as st,g as nt,a as it,f as D,h as lt,b as at,n as W,i as G}from"../chunks/5.jX7F8vbw.js";import{S as X,i as Z,e as v,s as P,c as $,d as I,h as S,g as d,m as k,n as L,j as b,k as N,t as T,a as B,o as V,b as w,f as x,p as q,q as rt,r as ot,u as y,v as E,w as U,x as A,l as ut}from"../chunks/index.BsNNkGcD.js";import{e as ft,g as ct,S as M}from"../chunks/SignIn.oyNPGDSt.js";import{p as mt}from"../chunks/stores.XFx3Gozs.js";const _t=f=>({}),F=f=>({});function H(f){var c,o;let t,s,e=((c=f[1])==null?void 0:c.redirect)&&K(f),n=((o=f[1])==null?void 0:o.redirectTo)&&Y(f);return{c(){e&&e.c(),t=P(),n&&n.c(),s=V()},l(l){e&&e.l(l),t=S(l),n&&n.l(l),s=V()},m(l,m){e&&e.m(l,m),b(l,t,m),n&&n.m(l,m),b(l,s,m)},p(l,m){var a,i;(a=l[1])!=null&&a.redirect?e?e.p(l,m):(e=K(l),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null),(i=l[1])!=null&&i.redirectTo?n?n.p(l,m):(n=Y(l),n.c(),n.m(s.parentNode,s)):n&&(n.d(1),n=null)},d(l){l&&(d(t),d(s)),e&&e.d(l),n&&n.d(l)}}}function K(f){let t,s;return{c(){t=v("input"),this.h()},l(e){t=$(e,"INPUT",{type:!0,name:!0}),this.h()},h(){k(t,"type","hidden"),k(t,"name","redirect"),t.value=s=f[1].redirect},m(e,n){b(e,t,n)},p(e,n){n&2&&s!==(s=e[1].redirect)&&(t.value=s)},d(e){e&&d(t)}}}function Y(f){let t,s;return{c(){t=v("input"),this.h()},l(e){t=$(e,"INPUT",{type:!0,name:!0}),this.h()},h(){k(t,"type","hidden"),k(t,"name","redirectTo"),t.value=s=f[1].redirectTo},m(e,n){b(e,t,n)},p(e,n){n&2&&s!==(s=e[1].redirectTo)&&(t.value=s)},d(e){e&&d(t)}}}function pt(f){let t;return{c(){t=w("Sign Out")},l(s){t=x(s,"Sign Out")},m(s,e){b(s,t,e)},d(s){s&&d(t)}}}function gt(f){let t,s,e,n,c,o,l,m,a=f[1]&&H(f);const i=f[5].submitButton,r=tt(i,f,f[4],F),p=r||pt();let g=[{method:"POST"},{action:n=`/${f[2]}`},{class:c=`signOutButton ${f[0]}`},f[3]],O={};for(let _=0;_<g.length;_+=1)O=R(O,g[_]);return{c(){t=v("form"),a&&a.c(),s=P(),e=v("button"),p&&p.c(),this.h()},l(_){t=$(_,"FORM",{method:!0,action:!0,class:!0});var u=I(t);a&&a.l(u),s=S(u),e=$(u,"BUTTON",{type:!0});var h=I(e);p&&p.l(h),h.forEach(d),u.forEach(d),this.h()},h(){k(e,"type","submit"),L(t,O)},m(_,u){b(_,t,u),a&&a.m(t,null),N(t,s),N(t,e),p&&p.m(e,null),o=!0,l||(m=et(ft.call(null,t)),l=!0)},p(_,[u]){_[1]?a?a.p(_,u):(a=H(_),a.c(),a.m(t,s)):a&&(a.d(1),a=null),r&&r.p&&(!o||u&16)&&st(r,i,_,_[4],o?it(i,_[4],u,_t):nt(_[4]),F),L(t,O=ct(g,[{method:"POST"},(!o||u&4&&n!==(n=`/${_[2]}`))&&{action:n},(!o||u&1&&c!==(c=`signOutButton ${_[0]}`))&&{class:c},u&8&&_[3]]))},i(_){o||(T(p,_),o=!0)},o(_){B(p,_),o=!1},d(_){_&&d(t),a&&a.d(),p&&p.d(_),l=!1,m()}}}function dt(f,t,s){const e=["className","options","signOutPage"];let n=D(t,e),{$$slots:c={},$$scope:o}=t,{className:l=""}=t,{options:m=void 0}=t,{signOutPage:a="signout"}=t;return f.$$set=i=>{t=R(R({},t),lt(i)),s(3,n=D(t,e)),"className"in i&&s(0,l=i.className),"options"in i&&s(1,m=i.options),"signOutPage"in i&&s(2,a=i.signOutPage),"$$scope"in i&&s(4,o=i.$$scope)},[l,m,a,n,o,c]}class ht extends X{constructor(t){super(),Z(this,t,dt,gt,Q,{className:0,options:1,signOutPage:2})}}function bt(f){let t,s="You are not signed in",e,n,c,o,l,m,a;return n=new M({props:{provider:"github",signInPage:"signin"}}),o=new M({props:{provider:"google",signInPage:"signin"}}),m=new M({props:{provider:"twitter",signInPage:"signin"}}),{c(){t=v("span"),t.textContent=s,e=P(),y(n.$$.fragment),c=P(),y(o.$$.fragment),l=P(),y(m.$$.fragment),this.h()},l(i){t=$(i,"SPAN",{class:!0,"data-svelte-h":!0}),q(t)!=="svelte-zm114h"&&(t.textContent=s),e=S(i),E(n.$$.fragment,i),c=S(i),E(o.$$.fragment,i),l=S(i),E(m.$$.fragment,i),this.h()},h(){k(t,"class","notSignedInText")},m(i,r){b(i,t,r),b(i,e,r),U(n,i,r),b(i,c,r),U(o,i,r),b(i,l,r),U(m,i,r),a=!0},p:W,i(i){a||(T(n.$$.fragment,i),T(o.$$.fragment,i),T(m.$$.fragment,i),a=!0)},o(i){B(n.$$.fragment,i),B(o.$$.fragment,i),B(m.$$.fragment,i),a=!1},d(i){i&&(d(t),d(e),d(c),d(l)),A(n,i),A(o,i),A(m,i)}}}function vt(f){var O,_;let t,s,e,n="Signed in as",c,o,l,m=(((O=f[0].data.session.user)==null?void 0:O.name)??"User")+"",a,i,r,p,g=((_=f[0].data.session.user)==null?void 0:_.image)&&J(f);return r=new ht({props:{$$slots:{submitButton:[$t]},$$scope:{ctx:f}}}),{c(){g&&g.c(),t=P(),s=v("span"),e=v("small"),e.textContent=n,c=v("br"),o=P(),l=v("strong"),a=w(m),i=P(),y(r.$$.fragment),this.h()},l(u){g&&g.l(u),t=S(u),s=$(u,"SPAN",{class:!0});var h=I(s);e=$(h,"SMALL",{"data-svelte-h":!0}),q(e)!=="svelte-qavuiv"&&(e.textContent=n),c=$(h,"BR",{}),o=S(h),l=$(h,"STRONG",{});var C=I(l);a=x(C,m),C.forEach(d),h.forEach(d),i=S(u),E(r.$$.fragment,u),this.h()},h(){k(s,"class","signedInText")},m(u,h){g&&g.m(u,h),b(u,t,h),b(u,s,h),N(s,e),N(s,c),N(s,o),N(s,l),N(l,a),b(u,i,h),U(r,u,h),p=!0},p(u,h){var j,z;(j=u[0].data.session.user)!=null&&j.image?g?g.p(u,h):(g=J(u),g.c(),g.m(t.parentNode,t)):g&&(g.d(1),g=null),(!p||h&1)&&m!==(m=(((z=u[0].data.session.user)==null?void 0:z.name)??"User")+"")&&ut(a,m);const C={};h&2&&(C.$$scope={dirty:h,ctx:u}),r.$set(C)},i(u){p||(T(r.$$.fragment,u),p=!0)},o(u){B(r.$$.fragment,u),p=!1},d(u){u&&(d(t),d(s),d(i)),g&&g.d(u),A(r,u)}}}function J(f){let t,s;return{c(){t=v("img"),this.h()},l(e){t=$(e,"IMG",{src:!0,class:!0,alt:!0}),this.h()},h(){G(t.src,s=f[0].data.session.user.image)||k(t,"src",s),k(t,"class","avatar"),k(t,"alt","User Avatar")},m(e,n){b(e,t,n)},p(e,n){n&1&&!G(t.src,s=e[0].data.session.user.image)&&k(t,"src",s)},d(e){e&&d(t)}}}function $t(f){let t,s="Sign out";return{c(){t=v("div"),t.textContent=s,this.h()},l(e){t=$(e,"DIV",{slot:!0,class:!0,"data-svelte-h":!0}),q(t)!=="svelte-1tbj6zn"&&(t.textContent=s),this.h()},h(){k(t,"slot","submitButton"),k(t,"class","buttonPrimary")},m(e,n){b(e,t,n)},p:W,d(e){e&&d(t)}}}function kt(f){let t,s="SvelteKit Auth Example",e,n,c,o,l;const m=[vt,bt],a=[];function i(r,p){return r[0].data.session?0:1}return c=i(f),o=a[c]=m[c](f),{c(){t=v("h1"),t.textContent=s,e=P(),n=v("div"),o.c()},l(r){t=$(r,"H1",{"data-svelte-h":!0}),q(t)!=="svelte-h639cv"&&(t.textContent=s),e=S(r),n=$(r,"DIV",{});var p=I(n);o.l(p),p.forEach(d)},m(r,p){b(r,t,p),b(r,e,p),b(r,n,p),a[c].m(n,null),l=!0},p(r,[p]){let g=c;c=i(r),c===g?a[c].p(r,p):(ot(),B(a[g],1,1,()=>{a[g]=null}),rt(),o=a[c],o?o.p(r,p):(o=a[c]=m[c](r),o.c()),T(o,1),o.m(n,null))},i(r){l||(T(o),l=!0)},o(r){B(o),l=!1},d(r){r&&(d(t),d(e),d(n)),a[c].d()}}}function Pt(f,t,s){let e;return at(f,mt,n=>s(0,e=n)),[e]}class Bt extends X{constructor(t){super(),Z(this,t,Pt,kt,Q,{})}}export{Bt as component};
