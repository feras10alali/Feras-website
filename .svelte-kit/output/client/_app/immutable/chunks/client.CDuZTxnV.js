import{b as c}from"./entry.B93WCNDX.js";async function f(n,t,e){const{callbackUrl:a=window.location.href,redirect:s=!0}={},l=n==="email",w=`${`${c??""}/auth/signin/${n}`}?${new URLSearchParams(e)}`,i=await fetch(w,{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Auth-Return-Redirect":"1"},body:new URLSearchParams({...t,callbackUrl:a})}),r=await i.clone().json();if(s||!l){window.location.href=r.url??a,r.url.includes("#")&&window.location.reload();return}return i}async function m(n){const{callbackUrl:t=window.location.href}=n??{},o=(await(await fetch(`${c??""}/auth/signout`,{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Auth-Return-Redirect":"1"},body:new URLSearchParams({callbackUrl:t})})).json()).url??t;window.location.href=o,o.includes("#")&&window.location.reload()}export{f as a,m as s};
