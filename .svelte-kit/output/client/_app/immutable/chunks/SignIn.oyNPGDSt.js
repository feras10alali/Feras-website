import{s as se,c as C,d as H,e as re,u as J,g as G,a as K,f as W,h as ce,n as Q}from"./5.jX7F8vbw.js";import{S as ue,i as fe,e as S,s as B,c as L,d as j,h as z,g as y,m as b,n as X,j as E,k as I,t as N,r as Y,a as O,q as Z,o as $,A as me,b as R,f as q,l as de}from"./index.BsNNkGcD.js";import{p as he,i as pe,a as _e}from"./entry.C1V1UjnN.js";function x(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function be(i,e){const a={},n={},t={$$scope:1};let l=i.length;for(;l--;){const o=i[l],r=e[l];if(r){for(const f in o)f in r||(n[f]=1);for(const f in r)t[f]||(a[f]=r[f],t[f]=1);i[l]=r}else for(const f in o)t[f]=1}for(const o in n)o in a||(a[o]=void 0);return a}function ge(i){const e=JSON.parse(i);return e.data&&(e.data=he(e.data)),e}function M(i){return HTMLElement.prototype.cloneNode.call(i)}function ke(i,e=()=>{}){const a=async({action:t,result:l,reset:o=!0,invalidateAll:r=!0})=>{l.type==="success"&&(o&&HTMLFormElement.prototype.reset.call(i),r&&await pe()),(location.origin+location.pathname===t.origin+t.pathname||l.type==="redirect"||l.type==="error")&&_e(l)};async function n(t){var u,v,T,m,d;if(((u=t.submitter)!=null&&u.hasAttribute("formmethod")?t.submitter.formMethod:M(i).method)!=="post")return;t.preventDefault();const o=new URL((v=t.submitter)!=null&&v.hasAttribute("formaction")?t.submitter.formAction:M(i).action),r=(T=t.submitter)!=null&&T.hasAttribute("formenctype")?t.submitter.formEnctype:M(i).enctype,f=new FormData(i),P=(m=t.submitter)==null?void 0:m.getAttribute("name");P&&f.append(P,((d=t.submitter)==null?void 0:d.getAttribute("value"))??"");const h=new AbortController;let g=!1;const U=await e({action:o,cancel:()=>g=!0,controller:h,formData:f,formElement:i,submitter:t.submitter})??a;if(g)return;let A;try{const p=new Headers({accept:"application/json","x-sveltekit-action":"true"});r!=="multipart/form-data"&&p.set("Content-Type",/^(:?application\/x-www-form-urlencoded|text\/plain)$/.test(r)?r:"application/x-www-form-urlencoded");const w=r==="multipart/form-data"?f:new URLSearchParams(f),_=await fetch(o,{method:"POST",headers:p,cache:"no-store",body:w,signal:h.signal});A=ge(await _.text()),A.type==="error"&&(A.status=_.status)}catch(p){if((p==null?void 0:p.name)==="AbortError")return;A={type:"error",error:p}}U({action:o,formData:f,formElement:i,update:p=>a({action:o,result:A,reset:p==null?void 0:p.reset,invalidateAll:p==null?void 0:p.invalidateAll}),result:A})}return HTMLFormElement.prototype.addEventListener.call(i,"submit",n),{destroy(){HTMLFormElement.prototype.removeEventListener.call(i,"submit",n)}}}const ye=i=>({}),ee=i=>({}),Pe=i=>({}),te=i=>({}),ve=i=>({}),ie=i=>({});function ne(i,e,a){const n=i.slice();return n[11]=e[a][0],n[12]=e[a][1],n}function Te(i){let e;return{c(){e=S("input"),this.h()},l(a){e=L(a,"INPUT",{type:!0,name:!0}),this.h()},h(){b(e,"type","hidden"),b(e,"name","callbackUrl"),e.value=i[3]},m(a,n){E(a,e,n)},p:Q,d(a){a&&y(e)}}}function Ae(i){let e;return{c(){e=S("input"),this.h()},l(a){e=L(a,"INPUT",{type:!0,name:!0}),this.h()},h(){b(e,"type","hidden"),b(e,"name","redirect"),e.value=i[4]},m(a,n){E(a,e,n)},p:Q,d(a){a&&y(e)}}}function Ee(i){let e,a=x(Object.entries(i[5])),n=[];for(let t=0;t<a.length;t+=1)n[t]=ae(ne(i,a,t));return{c(){for(let t=0;t<n.length;t+=1)n[t].c();e=$()},l(t){for(let l=0;l<n.length;l+=1)n[l].l(t);e=$()},m(t,l){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(t,l);E(t,e,l)},p(t,l){if(l&32){a=x(Object.entries(t[5]));let o;for(o=0;o<a.length;o+=1){const r=ne(t,a,o);n[o]?n[o].p(r,l):(n[o]=ae(r),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=a.length}},d(t){t&&y(e),me(n,t)}}}function ae(i){let e;return{c(){e=S("input"),this.h()},l(a){e=L(a,"INPUT",{type:!0,name:!0}),this.h()},h(){b(e,"type","hidden"),b(e,"name",`authorizationParams-${i[11]}`),e.value=i[12]},m(a,n){E(a,e,n)},p:Q,d(a){a&&y(e)}}}function le(i){let e;const a=i[10].credentials,n=C(a,i,i[9],ie);return{c(){n&&n.c()},l(t){n&&n.l(t)},m(t,l){n&&n.m(t,l),e=!0},p(t,l){n&&n.p&&(!e||l&512)&&J(n,a,t,t[9],e?K(a,t[9],l,ve):G(t[9]),ie)},i(t){e||(N(n,t),e=!0)},o(t){O(n,t),e=!1},d(t){n&&n.d(t)}}}function oe(i){let e;const a=i[10].email,n=C(a,i,i[9],te),t=n||Ie(i);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,o){t&&t.m(l,o),e=!0},p(l,o){n?n.p&&(!e||o&512)&&J(n,a,l,l[9],e?K(a,l[9],o,Pe):G(l[9]),te):t&&t.p&&(!e||o&2)&&t.p(l,e?o:-1)},i(l){e||(N(t,l),e=!0)},o(l){O(t,l),e=!1},d(l){t&&t.d(l)}}}function Ie(i){let e,a,n,t,l;return{c(){e=S("label"),a=R("Email"),t=B(),l=S("input"),this.h()},l(o){e=L(o,"LABEL",{class:!0,for:!0});var r=j(e);a=q(r,"Email"),r.forEach(y),t=z(o),l=L(o,"INPUT",{id:!0,type:!0,name:!0,placeholder:!0}),this.h()},h(){b(e,"class","section-header"),b(e,"for",n=`input-email-for-${i[1]}-provider`),b(l,"id","input-email-for-email-provider"),b(l,"type","email"),b(l,"name","email"),b(l,"placeholder","email@example.com"),l.required=!0},m(o,r){E(o,e,r),I(e,a),E(o,t,r),E(o,l,r)},p(o,r){r&2&&n!==(n=`input-email-for-${o[1]}-provider`)&&b(e,"for",n)},d(o){o&&(y(e),y(t),y(l))}}}function Ne(i){let e,a=i[1]?` with ${i[1]}`:"",n;return{c(){e=R("Signin"),n=R(a)},l(t){e=q(t,"Signin"),n=q(t,a)},m(t,l){E(t,e,l),E(t,n,l)},p(t,l){l&2&&a!==(a=t[1]?` with ${t[1]}`:"")&&de(n,a)},d(t){t&&(y(e),y(n))}}}function Se(i){let e,a,n,t,l,o,r,f,P,h,g,k,U,A,u=i[3]&&Te(i),v=i[4]&&Ae(i),T=i[5]&&Ee(i),m=i[1]==="credentials"&&le(i),d=(i[1]==="email"||i[1]==="sendgrid"||i[1]==="resend")&&oe(i);const p=i[10].submitButton,w=C(p,i,i[9],ee),_=w||Ne(i);let D=[{method:"POST"},{action:h=`/${i[2]}`},{class:g=`signInButton ${i[0]}`},i[6]],F={};for(let s=0;s<D.length;s+=1)F=H(F,D[s]);return{c(){e=S("form"),a=S("input"),n=B(),u&&u.c(),t=B(),v&&v.c(),l=B(),T&&T.c(),o=B(),m&&m.c(),r=B(),d&&d.c(),f=B(),P=S("button"),_&&_.c(),this.h()},l(s){e=L(s,"FORM",{method:!0,action:!0,class:!0});var c=j(e);a=L(c,"INPUT",{type:!0,name:!0}),n=z(c),u&&u.l(c),t=z(c),v&&v.l(c),l=z(c),T&&T.l(c),o=z(c),m&&m.l(c),r=z(c),d&&d.l(c),f=z(c),P=L(c,"BUTTON",{type:!0});var V=j(P);_&&_.l(V),V.forEach(y),c.forEach(y),this.h()},h(){b(a,"type","hidden"),b(a,"name","providerId"),a.value=i[1],b(P,"type","submit"),X(e,F)},m(s,c){E(s,e,c),I(e,a),I(e,n),u&&u.m(e,null),I(e,t),v&&v.m(e,null),I(e,l),T&&T.m(e,null),I(e,o),m&&m.m(e,null),I(e,r),d&&d.m(e,null),I(e,f),I(e,P),_&&_.m(P,null),k=!0,U||(A=re(ke.call(null,e)),U=!0)},p(s,[c]){(!k||c&2)&&(a.value=s[1]),s[3]&&u.p(s,c),s[4]&&v.p(s,c),s[5]&&T.p(s,c),s[1]==="credentials"?m?(m.p(s,c),c&2&&N(m,1)):(m=le(s),m.c(),N(m,1),m.m(e,r)):m&&(Y(),O(m,1,1,()=>{m=null}),Z()),s[1]==="email"||s[1]==="sendgrid"||s[1]==="resend"?d?(d.p(s,c),c&2&&N(d,1)):(d=oe(s),d.c(),N(d,1),d.m(e,f)):d&&(Y(),O(d,1,1,()=>{d=null}),Z()),w?w.p&&(!k||c&512)&&J(w,p,s,s[9],k?K(p,s[9],c,ye):G(s[9]),ee):_&&_.p&&(!k||c&2)&&_.p(s,k?c:-1),X(e,F=be(D,[{method:"POST"},(!k||c&4&&h!==(h=`/${s[2]}`))&&{action:h},(!k||c&1&&g!==(g=`signInButton ${s[0]}`))&&{class:g},c&64&&s[6]]))},i(s){k||(N(m),N(d),N(_,s),k=!0)},o(s){O(m),O(d),O(_,s),k=!1},d(s){s&&y(e),u&&u.d(),v&&v.d(),T&&T.d(),m&&m.d(),d&&d.d(),_&&_.d(s),U=!1,A()}}}function Le(i,e,a){const n=["className","provider","signInPage","options","authorizationParams"];let t=W(e,n),{$$slots:l={},$$scope:o}=e,{className:r=""}=e,{provider:f=""}=e,{signInPage:P="signin"}=e,{options:h=void 0}=e,{authorizationParams:g=void 0}=e;const k=h instanceof FormData?h.get("redirectTo"):h==null?void 0:h.redirectTo,U=h instanceof FormData?h.get("redirect"):h==null?void 0:h.redirectTo,A=g?typeof g=="string"&&g?new URLSearchParams(g):g:void 0;return i.$$set=u=>{e=H(H({},e),ce(u)),a(6,t=W(e,n)),"className"in u&&a(0,r=u.className),"provider"in u&&a(1,f=u.provider),"signInPage"in u&&a(2,P=u.signInPage),"options"in u&&a(7,h=u.options),"authorizationParams"in u&&a(8,g=u.authorizationParams),"$$scope"in u&&a(9,o=u.$$scope)},[r,f,P,k,U,A,t,h,g,o,l]}class Oe extends ue{constructor(e){super(),fe(this,e,Le,Se,se,{className:0,provider:1,signInPage:2,options:7,authorizationParams:8})}}export{Oe as S,ke as e,be as g};
